document.addEventListener("DOMContentLoaded",()=>{let e=!1,t=!1,a="",r=document.querySelector("#commentform");if(!r)return;window.onCaptchaLoadedCallback=()=>{e=!0,l.value=a,l.disabled=!1};let l=r.querySelector("#submit");l.disabled=!0,r.querySelector("#comment").setAttribute("maxlength",255),["comment","author","email"].forEach(o=>{let n=r.querySelector("#"+o);n&&n.addEventListener("focus",()=>{if(e||t)return;t=!0,a=l.value,l.value="Loading captcha...";let r=document.createElement("script");r.src="https://www.google.com/recaptcha/api.js?onload=onCaptchaLoadedCallback",document.head.appendChild(r)})}),r.addEventListener("submit",t=>{if(!e){t.preventDefault();return}})});